{"version":3,"file":"static/js/152.e7108138.chunk.js","mappings":"4MACA,EAAwB,qBAAxB,EAA8D,8BAA9D,EAA2G,4BAA3G,EAAwJ,8BAAxJ,EAAoM,2BAApM,EAA8O,4BAA9O,EAAwR,2BAAxR,EAAkU,4BAAlU,EAA8W,6BAA9W,EAAmZ,qBAAnZ,EAA0b,+BAA1b,EAA0e,8B,UC+C1e,MA7CA,YAA8E,IAA7DA,EAA4D,EAA5DA,kBAAmBC,EAAyC,EAAzCA,cAAeC,EAA0B,EAA1BA,eAAgBC,EAAU,EAAVA,OACjE,OACE,8BACIH,GAGA,gBAAKI,UAAWC,EAAhB,UACE,iBAAKD,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,wCACA,sCAEF,gBAAKD,UAAWC,EAAhB,UACE,wBACGL,EAAkBM,KAAI,WAAkBC,GAAlB,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAT,OACrB,gBAAeL,UAAWC,EAA1B,WACE,iBACED,UAAWC,EACXK,MAAO,CAAEC,gBAAiBR,EAAOI,OAEnC,iBAAMH,UAAWC,EAAjB,SAAiCG,KACjC,iBAAMJ,UAAWC,EAAjB,SAAkCO,KAAKC,IAAIJ,OANpCD,EADY,SAY3B,2BACE,gBAAIJ,UAAWC,EAAf,WACE,iBAAMD,UAAWC,EAAjB,wBACA,iBAAMD,UAAWC,EAAjB,SACGO,KAAKC,IAAIX,SAGd,gBAAIE,UAAWC,EAAf,WACE,iBAAMD,UAAWC,EAAjB,uBACA,iBAAMD,UAAWC,EAAjB,SAAoCJ,gBA/B5C,oCAuCP,E,oBC7CD,G,QAA+B,6BAA/B,EAAmE,qB,oBCOnEa,EAAAA,GAAAA,SAAiBC,EAAAA,GAAYC,EAAAA,GAsB7B,MApBA,YAAuC,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YACfC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,IACtBC,GAAWC,EAAAA,EAAAA,QAAO,MAQxB,OANAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQH,EAASI,QACvBD,EAAME,OAAOC,WAAWlB,MAAMmB,OAAS,OACvCJ,EAAME,OAAOC,WAAWlB,MAAMoB,MAAQ,MACvC,GAAE,KAGD,iBAAK1B,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAU0B,IAAKT,EAAUL,KAAMA,KAC/B,iBAAMb,UAAWC,EAAjB,SACGa,EAAW,iBAAQC,GAAY,sBAIvC,EC3BD,EAAiC,mCAAjC,EAA4E,0BAA5E,EAAuH,mCAAvH,EAAyK,iCAAzK,EAAqO,6CCYrO,EAbe,CACba,OAAQ,UACR,gBAAiB,UACjBC,SAAU,UACVC,IAAK,UACL,YAAa,UACb,aAAc,UACd,qBAAsB,UACtBC,UAAW,UACXC,QAAS,UACT,iBAAkB,W,wCCVPC,EAAS,CACpB,CAAEC,OAAQ,EAAG9B,KAAM,WACnB,CAAE8B,OAAQ,EAAG9B,KAAM,YACnB,CAAE8B,OAAQ,EAAG9B,KAAM,SACnB,CAAE8B,OAAQ,EAAG9B,KAAM,SACnB,CAAE8B,OAAQ,EAAG9B,KAAM,OACnB,CAAE8B,OAAQ,EAAG9B,KAAM,QACnB,CAAE8B,OAAQ,EAAG9B,KAAM,QACnB,CAAE8B,OAAQ,EAAG9B,KAAM,UACnB,CAAE8B,OAAQ,EAAG9B,KAAM,aACnB,CAAE8B,OAAQ,GAAI9B,KAAM,WACpB,CAAE8B,OAAQ,GAAI9B,KAAM,YACpB,CAAE8B,OAAQ,GAAI9B,KAAM,aAGT+B,EAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,MC2B9C,MArCA,YAAoD,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,aACjC,OACE,iCACE,SAACC,EAAA,EAAD,CAAaC,GAAI,CAAEC,EAAG,GAAtB,UACE,SAACC,EAAA,EAAD,CACEtC,KAAK,QACLuC,MAAOP,EACPQ,SAAUN,EACVO,cAAY,EACZC,WAAY,CAAE,aAAc,iBAL9B,SAOGb,EAAO/B,KAAI,gBAAGgC,EAAH,EAAGA,OAAQ9B,EAAX,EAAWA,KAAX,OACV,SAAC2C,EAAA,EAAD,CAAuBJ,MAAOT,EAA9B,SACG9B,GADY8B,EADL,SAOhB,SAACK,EAAA,EAAD,CAAaC,GAAI,CAAEC,EAAG,GAAtB,UACE,SAACC,EAAA,EAAD,CACEtC,KAAK,OACLuC,MAAON,EACPO,SAAUN,EACVO,cAAY,EACZC,WAAY,CAAE,aAAc,iBAL9B,SAOGX,EAAMjC,KAAI,SAAAmC,GAAI,OACb,SAACU,EAAA,EAAD,CAAqBJ,MAAON,EAA5B,SACGA,GADYA,EADF,UASxB,ECwDD,EA3DmB,WACjB,IAAQW,GAAwBhC,EAAAA,EAAAA,KAAY,SAAAiC,GAAK,OAAIA,EAAMC,OAAV,IAAzCF,oBACFG,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,WAAS,IAAIC,MAAOC,WAAa,GAA3D,eAAOnB,EAAP,KAAcoB,EAAd,KACA,GAAwBH,EAAAA,EAAAA,WAAS,IAAIC,MAAOG,eAA5C,eAAOpB,EAAP,KAAaqB,EAAb,MAQAtC,EAAAA,EAAAA,YAAU,WACR+B,GAASQ,EAAAA,EAAAA,GAAqB,CAAEvB,MAAAA,EAAOC,KAAAA,IACxC,GAAE,CAACc,EAAUf,EAAOC,IAErB,IACA,EA7CiB,SAAAuB,GACjB,IAAMC,EAAY,GACZC,EAAW,GAEjB,GAA4B,IAAxBF,EAAaG,OACf,MAAO,CAAEF,UAAW,CAAC,KAAMC,SAAAA,GALI,gBAQVF,GARU,IAQjC,2BAAqC,CAAC,IAA3BI,EAA0B,QACnCH,EAAUI,KAAKD,EAAS3D,OACxByD,EAASG,KAAKD,EAAS5D,KACxB,CAXgC,+BAajC,MAAO,CAAEyD,UAAAA,EAAWC,SAAAA,EACrB,CA+BiCI,EADW,OAAnBlB,QAAmB,IAAnBA,OAAA,EAAAA,EAAqBpD,oBAAqB,IAC1DiE,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,SACbK,EA9Ba,SAAAC,GACnB,IADiC,EAC3BC,EAAoB,GACpBC,EAAWC,OAAOC,QAAQzE,GAFC,UAIVqE,GAJU,yBAItBJ,EAJsB,QAKzBS,EAAgBH,EAASI,MAAK,SAAAC,GAAE,OAAIA,EAAG,KAAOX,CAAd,IAAwB,GAC9DK,EAAkBJ,KAAKQ,EANQ,EAIjC,2BAAoC,GAJH,+BASjC,OAAOJ,CACR,CAoBwBO,CAAad,GAG9BjD,EAAO,CACXgE,OAAQf,EACRgB,SAAU,CACR,CACEC,MANejB,EAASC,OAAS,QAAU,UAO3ClD,KAAMgD,EACNtD,gBAAiB4D,EAAeJ,OAASI,EAAiB,OAC1Da,YAAa,cACbC,OAAQ,QAGZC,QAAS,CACPC,YAAY,EAEZC,qBAAqB,IAIzB,OACE,iCACE,cAAGpF,UAAWC,EAAd,yBACA,iBAAKD,UAAWC,EAAhB,WACE,0BACE,gBAAKD,UAAWC,EAAhB,UACE,SAAC,EAAD,CAAOY,KAAMA,EAAMC,YAAW,OAAEkC,QAAF,IAAEA,OAAF,EAAEA,EAAqBlC,mBAGzD,iBAAKd,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAAhB,UACE,SAAC,EAAD,CAAYmC,MAAOA,EAAOC,KAAMA,EAAMC,aA5C3B,SAAA+C,GACG,UAAtBA,EAAMC,OAAOlF,KACToD,EAAS6B,EAAMC,OAAO3C,OACtBe,EAAQ2B,EAAMC,OAAO3C,MAC1B,OA0CO,SAAC,GAAD,kBAAWK,GAAX,IAAgCjD,OAAQoE,aAKjD,C","sources":["webpack://react-project/./src/components/Table/Table.module.scss?f22e","components/Table/Table.jsx","webpack://react-project/./src/components/Chart/Chart.module.scss?48b5","components/Chart/Chart.js","webpack://react-project/./src/components/Statistics/Statistics.module.scss?0036","components/Statistics/colors.js","components/DateSelect/transactionsPeriod.js","components/DateSelect/DateSelect.jsx","components/Statistics/Statistics.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"table\":\"Table_table__YUzYe\",\"table__wrapper\":\"Table_table__wrapper__2rKOO\",\"table__title\":\"Table_table__title__UAq4I\",\"tableScrollBox\":\"Table_tableScrollBox__csZQy\",\"table__item\":\"Table_table__item__sXnLH\",\"table__color\":\"Table_table__color__8NjJm\",\"table__name\":\"Table_table__name__LVkwZ\",\"table__total\":\"Table_table__total__gzh40\",\"table__bottom\":\"Table_table__bottom__aBU+x\",\"first\":\"Table_first__0TIIt\",\"second__expense\":\"Table_second__expense__j+z0a\",\"second__income\":\"Table_second__income__25VVv\"};","import React from 'react';\nimport s from './Table.module.scss';\n\nfunction Table({ categoriesSummary, incomeSummary, expenseSummary, colors }) {\n  return (\n    <>\n      {!categoriesSummary ? (\n        <p>No data</p>\n      ) : (\n        <div className={s.table}>\n          <div className={s.table__wrapper}>\n            <div className={s.table__title}>\n              <span>Category</span>\n              <span>Sum</span>\n            </div>\n            <div className={s.tableScrollBox}>\n              <ul>\n                {categoriesSummary.map(({ name, total }, index) => (\n                  <li key={name} className={s.table__item}>\n                    <span\n                      className={s.table__color}\n                      style={{ backgroundColor: colors[index] }}\n                    ></span>\n                    <span className={s.table__name}>{name}</span>\n                    <span className={s.table__total}>{Math.abs(total)}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <ul>\n              <li className={s.table__bottom}>\n                <span className={s.first}>Expenses:</span>\n                <span className={s.second__expense}>\n                  {Math.abs(expenseSummary)}\n                </span>\n              </li>\n              <li className={s.table__bottom}>\n                <span className={s.first}>Incomes:</span>\n                <span className={s.second__income}>{incomeSummary}</span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default Table;\n","// extracted by mini-css-extract-plugin\nexport default {\"chartWrapper\":\"Chart_chartWrapper__eyWek\",\"total\":\"Chart_total__6HLt3\"};","import React, { useEffect, useRef } from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport s from './Chart.module.scss';\nimport { useSelector } from 'react-redux';\nimport { selectFinancesBalance } from 'redux/finance/financeSlice';\n\nChartJS.register(ArcElement, Tooltip);\n\nfunction Chart({ data, periodTotal }) {\n  const balance = useSelector(selectFinancesBalance);\n  const chartRef = useRef(null);\n\n  useEffect(() => {\n    const chart = chartRef.current;\n    chart.canvas.parentNode.style.height = '100%';\n    chart.canvas.parentNode.style.width = '100%';\n  }, []);\n\n  return (\n    <div className={s.chartWrapper}>\n      <Doughnut ref={chartRef} data={data} />\n      <span className={s.total}>\n        {periodTotal ? `â‚´ ${balance}` : 'no transactions'}\n      </span>\n    </div>\n  );\n}\n\nexport default Chart;\n","// extracted by mini-css-extract-plugin\nexport default {\"contentWrapper\":\"Statistics_contentWrapper__ZOUvP\",\"title\":\"Statistics_title__96q7B\",\"selectorsBlock\":\"Statistics_selectorsBlock__eBW4K\",\"diagramBlock\":\"Statistics_diagramBlock__wwJpf\",\"transactionsSummaryBlock\":\"Statistics_transactionsSummaryBlock__-bDRU\"};","const colors = {\n  Income: '#24CCA7',\n  'Main expenses': '#FED057',\n  Products: '#FFD8D0',\n  Car: '#FD9498',\n  'Self care': '#C5BAFF',\n  'Child care': '#6E78E8',\n  'Household products': '#4A56E2',\n  Education: '#81E1FF',\n  Leisure: '#24CCA7',\n  'Other expenses': '#00AD84',\n};\n\nexport default colors;\n","export const months = [\n  { number: 1, name: 'January' },\n  { number: 2, name: 'February' },\n  { number: 3, name: 'March' },\n  { number: 4, name: 'April' },\n  { number: 5, name: 'May' },\n  { number: 6, name: 'June' },\n  { number: 7, name: 'July' },\n  { number: 8, name: 'August' },\n  { number: 9, name: 'September' },\n  { number: 10, name: 'October' },\n  { number: 11, name: 'November' },\n  { number: 12, name: 'December' },\n];\n\nexport const years = [2019, 2020, 2021, 2022, 2023];\n","import React from 'react';\nimport { FormControl, MenuItem, Select } from '@mui/material';\nimport { months, years } from './transactionsPeriod';\nimport './selectStyle.scss';\n\nfunction DateSelect({ month, year, handleChange }) {\n  return (\n    <>\n      <FormControl sx={{ m: 1 }}>\n        <Select\n          name=\"month\"\n          value={month}\n          onChange={handleChange}\n          displayEmpty\n          inputProps={{ 'aria-label': 'Without label' }}\n        >\n          {months.map(({ number, name }) => (\n            <MenuItem key={number} value={number}>\n              {name}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl sx={{ m: 1 }}>\n        <Select\n          name=\"year\"\n          value={year}\n          onChange={handleChange}\n          displayEmpty\n          inputProps={{ 'aria-label': 'Without label' }}\n        >\n          {years.map(year => (\n            <MenuItem key={year} value={year}>\n              {year}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </>\n  );\n}\n\nexport default DateSelect;\n","import React, { useEffect, useState } from 'react';\nimport Table from '../Table/Table';\nimport Chart from '../Chart/Chart';\nimport s from './Statistics.module.scss';\nimport colors from './colors';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getTransactionsStats } from 'redux/transactionsSummary/transactionsSummaryOperations';\nimport DateSelect from 'components/DateSelect/DateSelect';\n\nconst formatData = transactions => {\n  const dataTotal = [];\n  const dataName = [];\n\n  if (transactions.length === 0) {\n    return { dataTotal: [100], dataName };\n  }\n\n  for (const category of transactions) {\n    dataTotal.push(category.total);\n    dataName.push(category.name);\n  }\n\n  return { dataTotal, dataName };\n};\n\nconst filterColors = categories => {\n  const filteredColorsArr = [];\n  const colorArr = Object.entries(colors);\n\n  for (const category of categories) {\n    const filteredColor = colorArr.find(el => el[0] === category)[1];\n    filteredColorsArr.push(filteredColor);\n  }\n\n  return filteredColorsArr;\n};\n\nconst Statistics = () => {\n  const { transactionsSummary } = useSelector(state => state.summary);\n  const dispatch = useDispatch();\n  const [month, setMonth] = useState(new Date().getMonth() + 1);\n  const [year, setYear] = useState(new Date().getFullYear());\n\n  const handleChange = event => {\n    event.target.name === 'month'\n      ? setMonth(event.target.value)\n      : setYear(event.target.value);\n  };\n\n  useEffect(() => {\n    dispatch(getTransactionsStats({ month, year }));\n  }, [dispatch, month, year]);\n\n  const transactionData = transactionsSummary?.categoriesSummary || [];\n  const { dataTotal, dataName } = formatData(transactionData);\n  const filteredColors = filterColors(dataName);\n  const datasetLabel = dataName.length ? 'Total' : 'No data';\n\n  const data = {\n    labels: dataName,\n    datasets: [\n      {\n        label: datasetLabel,\n        data: dataTotal,\n        backgroundColor: filteredColors.length ? filteredColors : 'gray',\n        borderColor: 'transparent',\n        cutout: '70%',\n      },\n    ],\n    options: {\n      responsive: true,\n\n      maintainAspectRatio: false,\n    },\n  };\n\n  return (\n    <>\n      <p className={s.title}>Statistics</p>\n      <div className={s.contentWrapper}>\n        <div>\n          <div className={s.diagramBlock}>\n            <Chart data={data} periodTotal={transactionsSummary?.periodTotal} />\n          </div>\n        </div>\n        <div className={s.transactionsSummaryBlock}>\n          <div className={s.selectorsBlock}>\n            <DateSelect month={month} year={year} handleChange={handleChange} />\n          </div>\n          <Table {...transactionsSummary} colors={filteredColors} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Statistics;\n"],"names":["categoriesSummary","incomeSummary","expenseSummary","colors","className","s","map","index","name","total","style","backgroundColor","Math","abs","ChartJS","ArcElement","Tooltip","data","periodTotal","balance","useSelector","selectFinancesBalance","chartRef","useRef","useEffect","chart","current","canvas","parentNode","height","width","ref","Income","Products","Car","Education","Leisure","months","number","years","month","year","handleChange","FormControl","sx","m","Select","value","onChange","displayEmpty","inputProps","MenuItem","transactionsSummary","state","summary","dispatch","useDispatch","useState","Date","getMonth","setMonth","getFullYear","setYear","getTransactionsStats","transactions","dataTotal","dataName","length","category","push","formatData","filteredColors","categories","filteredColorsArr","colorArr","Object","entries","filteredColor","find","el","filterColors","labels","datasets","label","borderColor","cutout","options","responsive","maintainAspectRatio","event","target"],"sourceRoot":""}